<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="namesListAll" pageWidth="612" pageHeight="792" columnWidth="532" leftMargin="40" rightMargin="40" topMargin="50" bottomMargin="18" isTitleNewPage="true">
	<property name="reportTitle" value="Names and linked resource(s), digital object(s) and accession(s)"/>
	<property name="reportDescription" value="Displays names and all resource(s), digital object(s) and accession(s) to which the name is linked. Report contains sort name, name type, name source and any resources, digital object or accession records linked to that name."/>
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="basePath" class="java.lang.String"/>
	<parameter name="ReportHeader" class="java.lang.String" isForPrompting="false"/>
	<field name="sortName" class="java.lang.String"/>
	<field name="nameType" class="java.lang.String"/>
	<field name="nameSource" class="java.lang.String"/>
	<field name="accessions" class="java.util.Set"/>
	<field name="resources" class="java.util.Set"/>
	<field name="digitalObjects" class="java.util.Set"/>
	<variable name="namesAccessionsDataSource" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource">
		<variableExpression><![CDATA[new JRBeanCollectionDataSource(new ArrayList($F{accessions}))]]></variableExpression>
	</variable>
	<variable name="namesResourcesDataSource" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource" resetType="None">
		<variableExpression><![CDATA[new JRBeanCollectionDataSource(new ArrayList($F{resources}))]]></variableExpression>
	</variable>
	<variable name="TEST_RESOURCES" class="java.lang.Integer" resetType="None" calculation="System">
		<initialValueExpression><![CDATA[Integer.valueOf(0)]]></initialValueExpression>
	</variable>
	<variable name="HAS_RESOURCE_BOOLEAN" class="java.lang.Boolean" resetType="None"/>
	<variable name="TEST_ACCESSIONS" class="java.lang.Integer" resetType="None" calculation="System"/>
	<variable name="namesDigitalObjectsDataSource" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource">
		<variableExpression><![CDATA[new JRBeanCollectionDataSource(new ArrayList($F{digitalObjects}))]]></variableExpression>
	</variable>
	<variable name="TEST_DIGITALOBJECTS" class="java.lang.Integer" resetType="None" calculation="System"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="264" splitType="Stretch">
			<staticText>
				<reportElement key="staticText-5" mode="Transparent" x="254" y="223" width="92" height="18" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[Number of records:]]></text>
			</staticText>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="textField-6" mode="Transparent" x="346" y="223" width="50" height="18" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-2" mode="Transparent" x="11" y="150" width="504" height="61" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" lineSpacing="Single">
					<font fontName="Arial" size="20" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{ReportHeader}.equals("") ? "Name Records with Linked Resources, Digital Objects, and Accessions" : $P{ReportHeader}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="76" splitType="Immediate">
			<subreport isUsingCache="true" runToBottom="false">
				<reportElement key="subreport-1" positionType="Float" mode="Opaque" x="10" y="55" width="513" height="5" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<dataSourceExpression><![CDATA[$V{namesAccessionsDataSource}]]></dataSourceExpression>
				<returnValue subreportVariable="TEST_ACCESSIONS" toVariable="TEST_ACCESSIONS" calculation="Sum"/>
				<subreportExpression class="java.lang.String"><![CDATA[$P{basePath} + "/sub_namesAccessions.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true" runToBottom="false">
				<reportElement key="subreport-2" positionType="Float" mode="Opaque" x="10" y="61" width="513" height="5" forecolor="#000000" backcolor="#FFFFFF"/>
				<dataSourceExpression><![CDATA[$V{namesResourcesDataSource}]]></dataSourceExpression>
				<returnValue subreportVariable="TEST_RESOURCES" toVariable="TEST_RESOURCES" calculation="Sum"/>
				<returnValue subreportVariable="HAS_RESOURCE_BOOLEAN" toVariable="HAS_RESOURCE_BOOLEAN"/>
				<subreportExpression class="java.lang.String"><![CDATA[$P{basePath} + "/sub_namesResources.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true" runToBottom="false">
				<reportElement key="subreport-3" positionType="Float" mode="Opaque" x="10" y="67" width="513" height="5" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<dataSourceExpression><![CDATA[$V{namesDigitalObjectsDataSource}]]></dataSourceExpression>
				<returnValue subreportVariable="TEST_DIGITALOBJECTS" toVariable="TEST_DIGITALOBJECTS" calculation="Sum"/>
				<subreportExpression class="java.lang.String"><![CDATA[$P{basePath} + "/sub_namesDigitalObjects.jasper"]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-1" positionType="Float" mode="Transparent" x="0" y="10" width="523" height="19" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box topPadding="4" leftPadding="4" bottomPadding="4" rightPadding="4">
					<pen lineColor="#666666"/>
					<topPen lineWidth="1.5" lineStyle="Solid" lineColor="#666666"/>
					<leftPen lineWidth="1.5" lineStyle="Solid" lineColor="#666666"/>
					<bottomPen lineWidth="1.5" lineStyle="Solid" lineColor="#666666"/>
					<rightPen lineWidth="1.5" lineStyle="Solid" lineColor="#666666"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sortName}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-2" mode="Transparent" x="215" y="37" width="45" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF">
					<printWhenExpression><![CDATA[$F{nameSource}.equals("") ? Boolean.FALSE : Boolean.TRUE]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="true" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[Source:]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="260" y="37" width="263" height="15" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" forecolor="#000000"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nameSource}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText" mode="Transparent" x="3" y="37" width="60" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="true" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[Name Type:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField" mode="Transparent" x="63" y="37" width="132" height="15" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{nameType}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="46" splitType="Stretch">
			<textField evaluationTime="Report" pattern="MMMMM dd, yyyy" isBlankWhenNull="false">
				<reportElement key="textField-6" positionType="Float" x="0" y="28" width="199" height="15" forecolor="#000000"/>
				<textElement>
					<font fontName="Arial" isItalic="false"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="4" width="533" height="1"/>
			</line>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-4" mode="Transparent" x="0" y="11" width="527" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{ReportHeader}.equals("") ? "Name Records with Linked Resources, Digital Objects, and Accessions"  : $P{ReportHeader}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="489" y="28" width="14" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[of]]></text>
			</staticText>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-3" positionType="Float" mode="Transparent" x="503" y="28" width="26" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField-2" positionType="Float" mode="Transparent" x="420" y="28" width="69" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Page " + String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
